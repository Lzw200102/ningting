{"version":3,"sources":["webpack:///src/components/logIn/logInPage.vue","webpack:///./src/components/logIn/logInPage.vue?8477","webpack:///./src/components/logIn/logInPage.vue"],"names":["logInPage","data","ruleForm","phone","password","id","rules","required","message","trigger","min","max","methods","login","_ref","_this","this","$refs","loginFormRef","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","result","token","cookie","userdata","wrap","_context","prev","next","abrupt","$http","get","sent","code","$message","error","success","account","$store","commit","$router","push","$bus","$emit","stop","_x","apply","arguments","logIn_logInPage","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","model","prop","type","placeholder","prefix-icon","autofocus","nativeOn","keyup","$event","indexOf","_k","keyCode","key","value","callback","$$v","$set","expression","title","on","click","staticRenderFns","src","__webpack_require__","alt","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.bb6fd504d30899981c9c.js","sourcesContent":["<template>\r\n  <!-- 登录页面 -->\r\n  <div class=\"content\" v-cloak>\r\n    <div class=\"a\">\r\n      <div class=\"b\">\r\n        <img src=\"../images/img8.png\" alt=\"\" />\r\n      </div>\r\n      <div class=\"c\">\r\n        <el-form class=\"d\" ref=\"loginFormRef\" :model=\"ruleForm\" :rules=\"rules\">\r\n          <h1>登录界面</h1>\r\n          <!-- autofocus 页面加载优先获取焦点 -->\r\n          <el-form-item prop=\"phone\">\r\n            <el-input\r\n              type=\"text\"\r\n              class=\"e\"\r\n              placeholder=\"输入网易云音乐手机号\"\r\n              prefix-icon=\"el-icon-user-solid\"\r\n              autofocus\r\n              v-model=\"ruleForm.phone\"\r\n              @keyup.enter.native=\"login\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item prop=\"password\"\r\n            ><el-input\r\n              type=\"password\"\r\n              class=\"e\"\r\n              placeholder=\"输入密码\"\r\n              prefix-icon=\"el-icon-unlock\"\r\n              v-model=\"ruleForm.password\"\r\n              @keyup.enter.native=\"login\"\r\n          /></el-form-item>\r\n          <el-button class=\"f\" title=\"无法使用\">忘记密码?</el-button>\r\n          <el-button class=\"f\" title=\"无法使用\">注册</el-button>\r\n          <el-button class=\"g\" @click=\"login\" > 登录 </el-button>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 规则表单\r\n      ruleForm: {\r\n        phone: '',\r\n        password: ''\r\n      },\r\n      id: '',\r\n      rules: {\r\n        // element-ui判断规则验证\r\n        phone: [\r\n          { required: true, message: '请输入登录手机号', trigger: 'change' },\r\n          { min: 11, max: 11, message: '请输入11位手机号', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入登录密码', trigger: 'blur' },\r\n          {\r\n            min: 6,\r\n            max: 20,\r\n            message: '密码长度在 6 到 20 个字符',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    login () {\r\n      this.$refs.loginFormRef.validate(async valid => {\r\n        //    表单预验证，通过则valid返回true\r\n        if (!valid) return\r\n        const result = await this.$http.get(\r\n          '/login/cellphone?phone=' +\r\n            this.ruleForm.phone +\r\n            '&password=' +\r\n            this.ruleForm.password\r\n        )\r\n        if (result.data.code === 502) {\r\n          return this.$message.error('密码错误，请重新输入！')\r\n        }\r\n        if (result.data.code === 200) {\r\n          this.$message.success('登录成功！')\r\n          // 保存用户id\r\n          this.id = result.data.account.id\r\n          // 获取后端返回的token\r\n          var token = result.data.token\r\n          // 保存 cookie (大部分需要登录的接口都要用到)\r\n          var cookie = result.data.cookie\r\n\r\n          // 存放userTokenb\r\n          this.$store.commit('setUserToken', token)\r\n\r\n          // 存放userid\r\n          this.$store.commit('setUserId', this.id)\r\n          // 存放cookie\r\n          this.$store.commit('setCookie', cookie)\r\n        } else return this.$message.error('登录失败')\r\n\r\n        // 跳转到首页\r\n        this.$router.push('/')\r\n        // 将三种信息存入\r\n        let userdata = {\r\n          token,\r\n          cookie,\r\n          id: this.id,\r\n        }\r\n        // 使用事件总线\r\n        this.$bus.$emit('getUserData', userdata)\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n// 输入框图片位置\r\n.el-input__icon {\r\n  width: 40px;\r\n}\r\n/* 防止页面闪烁 */\r\n[v-cloak] {\r\n  display: none !important;\r\n}\r\n.content {\r\n  height: 100%;\r\n  padding: 135px 0;\r\n  /*设置背景渐变*/\r\n  background: #ddd6f3; /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(\r\n    to right,\r\n    #faaca8,\r\n    #ddd6f3\r\n  ); /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(\r\n    to right,\r\n    #faaca8,\r\n    #ddd6f3\r\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n  display: flex;\r\n  /* 居中排列 */\r\n  justify-content: center;\r\n}\r\n.a {\r\n  /*设置背景渐变*/\r\n  background: #ddd6f3; /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(\r\n    to right,\r\n    #faaca8,\r\n    #ddd6f3\r\n  ); /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(\r\n    to right,\r\n    #faaca8,\r\n    #ddd6f3\r\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n\r\n  /* 跟随屏幕改变大小，将px换为em或% */\r\n  width: 1100px;\r\n  height: 550px;\r\n  /* width: 70%;\r\n            height: 40%; */\r\n  /* 添加边框阴影 横 纵 模糊度 颜色(不设置颜色默认为黑色)*/\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  border: 0 solid white;\r\n  /* 使用圆角化需要设置盒子边框 */\r\n  border-radius: 30px;\r\n}\r\n.b {\r\n  width: 750px;\r\n  height: 550px;\r\n  // background-image: url(../images/img8.png);\r\n  // // /* 让图片自适应 */\r\n  // background-size: cover;\r\n\r\n  border: 0px solid white;\r\n  border-radius: 30px 0 0 30px;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 30px 0 0 30px;\r\n  }\r\n}\r\n.c {\r\n  width: 350px;\r\n  height: 550px;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 0px solid white;\r\n  border-radius: 0 30px 30px 0;\r\n}\r\n.d {\r\n  width: 250px;\r\n  height: 500px;\r\n}\r\n.d h1 {\r\n  font: 900 30px '';\r\n}\r\n.e {\r\n  width: 230px;\r\n  margin: 20px 0;\r\n  outline: none;\r\n  border: 0;\r\n  padding: 10px;\r\n  border-bottom: 3px solid rgb(16, 120, 180);\r\n  font: 900 16px '';\r\n}\r\n.f {\r\n  float: right;\r\n  margin: 10px 5px;\r\n  color: #28aadd7e;\r\n}\r\n.g {\r\n  position: relative;\r\n  top: 10%;\r\n  left: 5%;\r\n  display: block;\r\n  width: 200px;\r\n  height: 60px;\r\n  font: 900 30px '';\r\n  text-decoration: none;\r\n  /* 设置多行元素的空间量，如多行文本的间距 */\r\n  line-height: 30px;\r\n  /* 设置外边框圆角 */\r\n  border-radius: 30px;\r\n  background-image: linear-gradient(to left, #faaca8, #ddd6f3);\r\n  /* 文本居中 */\r\n  text-align: center;\r\n  color: #28aadd7e;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/logIn/logInPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"a\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"c\"},[_c('el-form',{ref:\"loginFormRef\",staticClass:\"d\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('h1',[_vm._v(\"登录界面\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"phone\"}},[_c('el-input',{staticClass:\"e\",attrs:{\"type\":\"text\",\"placeholder\":\"输入网易云音乐手机号\",\"prefix-icon\":\"el-icon-user-solid\",\"autofocus\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login.apply(null, arguments)}},model:{value:(_vm.ruleForm.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"phone\", $$v)},expression:\"ruleForm.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{staticClass:\"e\",attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\",\"prefix-icon\":\"el-icon-unlock\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login.apply(null, arguments)}},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"f\",attrs:{\"title\":\"无法使用\"}},[_vm._v(\"忘记密码?\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"f\",attrs:{\"title\":\"无法使用\"}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"g\",on:{\"click\":_vm.login}},[_vm._v(\" 登录 \")])],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"b\"},[_c('img',{attrs:{\"src\":require(\"../images/img8.png\"),\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-458d10dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/logIn/logInPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-458d10dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./logInPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./logInPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./logInPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-458d10dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./logInPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-458d10dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/logIn/logInPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}