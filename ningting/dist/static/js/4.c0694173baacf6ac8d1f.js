webpackJsonp([4,8],{Gu5Z:function(t,e){},"ON+D":function(t,e){},aYK0:function(t,e){},sxsr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("wjQl"),s=a("d1QE"),i={components:{leaderboardDetails:n.default,backToTheTop:s.a}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"content"}),this._v(" "),e("leaderboard-details"),this._v(" "),e("backtothe-top"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var l=a("C7Lr")(i,r,!1,function(t){a("Gu5Z")},"data-v-e1d26358",null);e.default=l.exports},wjQl:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("lC5x"),s=a.n(n),i=a("J0Oq"),r=a.n(i),l=a("SNiF"),o={data:function(){return{featureRanking:[],featureRankingglobal:[]}},methods:{getniceSongList:function(){var t=this;Object(l.g)().then(function(e){t.featureRanking=e.list.slice(0,4),t.featureRankingglobal=e.list.slice(4,29)})},gotolistdetails:function(t,e){this.$router.push({name:"leaderboardDetails",query:{id:t}})}},mounted:function(){this.getniceSongList()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leaderboard"},[a("el-aside",[a("h4",{staticClass:"h4"},[t._v("排行榜单")]),t._v(" "),a("ui",{staticClass:"ui"},[t._l(t.featureRanking,function(e,n){return a("li",{key:n,staticClass:"list",on:{click:function(a){return t.gotolistdetails(e.id,e.playCount)}}},[a("div",{staticClass:"list-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl+"?param=150y150",expression:"v.coverImgUrl + '?param=150y150'"}],attrs:{alt:""}})]),t._v(" "),a("div",{staticClass:"list-title"},[a("h4",[t._v(t._s(e.name))]),t._v(" "),a("h6",[t._v(t._s(e.updateFrequency))])])])}),t._v(" "),t._l(t.featureRankingglobal,function(e,n){return a("li",{key:"list"+n,staticClass:"list",on:{click:function(a){return t.gotolistdetails(e.id,e.playCount)}}},[a("div",{staticClass:"list-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl+"?param=150y150",expression:"v2.coverImgUrl + '?param=150y150'"}],attrs:{alt:""}})]),t._v(" "),a("div",{staticClass:"list-title"},[a("h4",[t._v(t._s(e.name))]),t._v(" "),a("h6",[t._v(t._s(e.updateFrequency))])])])})],2)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var u=a("C7Lr")(o,c,!1,function(t){a("aYK0")},"data-v-677493d9",null).exports,d=a("3+pe"),g=a("eAv8"),p={components:{leaderboard:u},inject:["reload"],data:function(){return{update:!0,rankingId:void 0===this.$route.query.id?19723756:this.$route.query.id,playCount:"",rankingname:"",rankingdescription:"",rankingPic:"",rankingavatarUrl:"",nickname:"",updateTime:"",subscribedCount:"",song_list_message:"",SongListSharing:"",getSongCollectorpic:"",Songcontent:"",trackslength:"",playlists:""}},watch:{$route:"getPath",rankingId:function(){}},filters:{GetPlayCount:function(t){return t>=1e4?Math.floor(t/1e4)+"w":t},GetTime:function(t){return Object(d.b)(t)},GetCommonTime:function(t){return Object(d.a)(t)},GetPic:function(t){return t.picUrl?t.picUrl+"?param=130y130":t.coverImgUrl+"?param=130y130"}},methods:{getPath:function(){console.log(1111),console.log(this.rankingId),this.reload()},getSongDetails:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/detail?id="+t.rankingId);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",t.$message.error("获取失败！"));case 5:t.playCount=a.data.playlist.playCount,t.rankingname=a.data.playlist.name,t.rankingdescription=a.data.playlist.description,t.rankingPic=a.data.playlist.coverImgUrl,t.rankingavatarUrl=a.data.playlist.creator.avatarUrl,t.nickname=a.data.playlist.creator.nickname,t.updateTime=a.data.playlist.updateTime,t.subscribedCount=a.data.playlist.subscribedCount,t.trackslength=a.data.playlist.tracks.length,console.log(t.updateTime);case 15:case"end":return e.stop()}},e,t)}))()},getsongListSharing:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/detail/dynamic?id="+t.rankingId);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",t.$message.error("获取失败！"));case 5:t.SongListSharing=a.data.shareCount,t.song_list_message=a.data.commentCount;case 7:case"end":return e.stop()}},e,t)}))()},getSongCollector:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/subscribers?id="+t.rankingId+"&limit=27");case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",t.$message.error("获取失败！"));case 5:t.getSongCollectorpic=a.data.subscribers;case 6:case"end":return e.stop()}},e,t)}))()},getSongcontent:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/playlist/detail?id="+t.rankingId);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",t.$message.error("获取失败！"));case 5:console.log("歌单内容"),console.log(a.data),t.Songcontent=a.data.playlist.tracks;case 8:case"end":return e.stop()}},e,t)}))()},playMusic:function(t){var e=this;Object(g.a)(t).then(function(a){e.$bus.$emit("getMusicMessage",{musicdata:a,id:t});var n={picUrl:a.picUrl,Singer:a.Singer,picname:a.picname};e.$store.commit("setMusicData",n)})},songDetails:function(t){this.$router.push({name:"SongDetails",query:{id:t}})},getSongLikeness:function(){var t=this;return r()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/related/playlist?id="+t.rankingId);case 2:a=e.sent,t.playlists=a.data.playlists;case 4:case"end":return e.stop()}},e,t)}))()},gotolikeness:function(t){this.$router.push("/rankingdetails/"+t)}},mounted:function(){console.log("date"+this.rankingId),this.getSongDetails(),this.getsongListSharing(),this.getSongcontent(),this.getSongLikeness(),this.getSongCollector()}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.update?a("div",{staticClass:"content"},[a("el-container",[a("leaderboard"),t._v(" "),a("el-main",[a("div",{staticClass:"ranking-list"},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content bg-purple"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.rankingPic,expression:"rankingPic"}],staticClass:"ranking-list-img",attrs:{alt:""}})])]),t._v(" "),a("el-col",{attrs:{span:19}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"ranking-list-flex "},[a("h3",[t._v(t._s(t.rankingname))]),t._v(" "),a("span",{staticClass:"el-icon-time",staticStyle:{padding:"20px 0 0"}},[t._v("\n                  最近更新："+t._s(t._f("GetCommonTime")(t.updateTime))+"\n                ")]),t._v(" "),a("h6",{staticStyle:{padding:"10px 0 20px"}},[t._v("\n                  ("+t._s(t.rankingdescription)+")\n                ")]),t._v(" "),a("div",{staticClass:"ranking-list-an",staticStyle:{padding:"15px 0 0"}},[a("el-button",[t._v("播放")]),a("el-button",[t._v("添加")]),a("el-button",[t._v("收藏("+t._s(t.subscribedCount)+")")]),a("el-button",[t._v("分享("+t._s(t.SongListSharing)+")")]),a("el-button",[t._v("下载")]),a("el-button",[t._v("留言板("+t._s(t.song_list_message)+")")])],1)])])])],1)],1),t._v(" "),a("div",{staticClass:"ranking-list-title"},[a("el-row",{staticClass:"ranking-list-title-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("歌曲列表")])])]),t._v(" "),a("el-col",{attrs:{span:3}},[a("div",{staticClass:"grid-content bg-purple"},[a("h6",{staticStyle:{margin:"0",float:"left",color:"#f888"}},[t._v("\n                歌曲:"+t._s(t.trackslength)+"首\n              ")])])]),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{float:"right"}},[t._v("\n              播放次数: "),a("span",{staticStyle:{color:"#f888"}},[t._v(t._s(t.playCount))]),t._v(" 次\n            ")])])],1),t._v(" "),a("el-row",{staticClass:"ranking-list-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("排名")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{float:"left"}},[t._v("\n              歌曲名称\n            ")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("时间")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{float:"left"}},[t._v("\n              歌手\n            ")])])],1),t._v(" "),a("ul",t._l(t.Songcontent,function(e,n){return a("li",{key:n},[a("el-row",{staticClass:"ranking-list-row play-click",attrs:{gutter:20}},[a("div",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple",on:{click:function(a){return t.playMusic(e.id)}}},[t._v("\n                    "+t._s(n+1)+"\n                  ")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{float:"left"},on:{click:function(a){return t.songDetails(e.id)}}},[a("div",{staticClass:"list-songName"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.al.picUrl,expression:"song.al.picUrl"}],staticStyle:{height:"45px",width:"45px","border-radius":"10px"},attrs:{alt:""}}),t._v(" "),a("div",{staticClass:"el-icon-video-play",staticStyle:{"font-size":"20px",margin:"0 20px"}}),t._v(" "),a("div",[a("span",[t._v(t._s(e.name))])])])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n                    "+t._s(t._f("GetTime")(e.dt))+"\n                  ")])]),t._v(" "),a("el-col",{attrs:{span:6}},t._l(e.ar,function(e,n){return a("div",{key:n,staticClass:"grid-content bg-purple",staticStyle:{float:"left"}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),0)],1)])],1)}),0)],1)])],1)],1):t._e()},staticRenderFns:[]};var f=a("C7Lr")(p,v,!1,function(t){a("ON+D")},"data-v-03e832f8",null);e.default=f.exports}});
//# sourceMappingURL=4.c0694173baacf6ac8d1f.js.map