webpackJsonp([9],{"O+gZ":function(t,e){},TlBV:function(t,e){},zQKa:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("lC5x"),a=r.n(n),s=r("J0Oq"),i=r.n(s),o=r("RMcY"),c=r("3+pe"),l={components:{listsong:o.a},data:function(){return{currentItim:0,currentButtonItim:1,UserId:this.$store.state.userId,nickname:"",avatarUrl:"",signature:"",focusOn:"",fan:"",dynamic:"",backgroundUrl:"",songHistory:0,allData:"",songListCollection:"",province:"",city:""}},watch:{songHistory:function(){this.getlistenToTheHistoryHistory()}},filters:{GetTime:function(t){return Object(c.b)(t)}},methods:{getpersonalInformation:function(){var t=this;return i()(a.a.mark(function e(){var r,n,s,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/playlist?uid="+t.UserId);case 2:return r=e.sent,e.next=5,t.$http.get("/user/follows?uid="+t.UserId);case 5:return n=e.sent,e.next=8,t.$http.get("/user/followeds?uid="+t.UserId);case 8:return s=e.sent,e.next=11,t.$http.get("/user/event?uid="+t.UserId);case 11:if(i=e.sent,200===r.data.code){e.next=16;break}return e.abrupt("return",t.$message.error("获取用户信息失败！"));case 16:t.nickname=r.data.playlist[0].creator.nickname,t.avatarUrl=r.data.playlist[0].creator.avatarUrl,t.backgroundUrl=r.data.playlist[0].creator.backgroundUrl,t.signature=r.data.playlist[0].creator.signature,t.province=r.data.playlist[0].creator.province,t.city=r.data.playlist[0].creator.city,t.songListCollection=t.FilterData(r.data.playlist);case 23:t.focusOn=n.data.follow.length,t.fan=s.data.followeds.length,t.dynamic=i.data.events.length;case 26:case"end":return e.stop()}},e,t)}))()},getlistenToTheHistoryHistory:function(){var t=this;return i()(a.a.mark(function e(){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user/record?uid="+t.UserId+"&type="+t.songHistory);case 2:if(200===(r=e.sent).data.code){e.next=7;break}return e.abrupt("return",t.$message.error("获取用户信息失败！"));case 7:t.allData=r.data.allData;case 8:case"end":return e.stop()}},e,t)}))()},getuserAddress:function(){var t=this;return i()(a.a.mark(function e(){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.province),e.next=3,t.$http.get("/user/update?province=420000&city=429004");case 3:if(200===(r=e.sent).data.code){e.next=8;break}return e.abrupt("return",t.$message.error("获取用户信息失败！"));case 8:console.log(r);case 9:case"end":return e.stop()}},e,t)}))()},FilterData:function(t){var e=[],r=t.filter(function(t){return 5142756048===t.userId}),n=t.filter(function(t){return 5142756048!==t.userId});return e.push(r,n),e},ChangerColor:function(t){this.currentItim=t,this.songHistory=t},ChangerButtonColor:function(t){this.currentButtonItim=t}},mounted:function(){this.getpersonalInformation(),this.getlistenToTheHistoryHistory()}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"content"},[r("div",{staticClass:"avatar"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.backgroundUrl,expression:"backgroundUrl"}],attrs:{alt:""}}),t._v(" "),r("div",{staticClass:"user"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.avatarUrl,expression:"avatarUrl"}],attrs:{alt:""}}),t._v(" "),r("p",{staticClass:"nickname"},[t._v(t._s(t.nickname))]),t._v(" "),r("el-button",{attrs:{size:"mini",round:""}},[t._v("修改信息")])],1),t._v(" "),r("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),r("li",[r("div",{staticClass:"el-icon-bottom-right"},[t._v("个人介绍:"+t._s(t.signature))])])]),t._v(" "),r("div",{staticClass:"personalRecord"},[r("div",[t._v("动态 "+t._s(t.fan))]),t._v(" "),r("div",[t._v("关注 "+t._s(t.focusOn))]),t._v(" "),r("div",[t._v("粉丝 "+t._s(t.dynamic))])])]),t._v(" "),r("div",{staticClass:"history"},[r("div",{staticClass:"title"},[r("h4",[t._v("听歌排行")]),t._v(" "),r("div",[r("a",{class:{colorChange:0==t.currentItim},on:{click:function(e){return t.ChangerColor(0)}}},[t._v("所有歌曲")]),t._v("|"),r("a",{class:{colorChange:1==t.currentItim},on:{click:function(e){return t.ChangerColor(1)}}},[t._v("最近一周")])])]),t._v(" "),r("listsong",{attrs:{SongData:t.allData}})],1),t._v(" "),r("div",{staticClass:"songList"},[r("div",{staticClass:"songlist-btn"},[r("button",{class:{colorButtonChange:1==t.currentButtonItim},on:{click:function(e){return t.ChangerButtonColor(1)}}},[t._v("\n          自建")]),r("button",{class:{colorButtonChange:2==t.currentButtonItim},on:{click:function(e){return t.ChangerButtonColor(2)}}},[t._v("\n          收藏\n        ")])]),t._v(" "),1===t.currentButtonItim?r("div",{staticClass:"songShow"},t._l(t.songListCollection[0],function(e,n){return r("div",{key:n,staticClass:"Show"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"v.coverImgUrl"}],attrs:{alt:""}}),t._v(" "),r("p",[t._v(t._s(e.name))])])}),0):t._e(),t._v(" "),2===t.currentButtonItim?r("div",{staticClass:"songShow"},t._l(t.songListCollection[1],function(e,n){return r("div",{key:n,staticClass:"Show"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"v.coverImgUrl"}],attrs:{alt:""}}),t._v(" "),r("p",[t._v(t._s(e.name))])])}),0):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"el-icon-bottom-right"},[this._v("等级:0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"el-icon-bottom-right"},[this._v("地区:保密")])])}]};var v={components:{personal:r("C7Lr")(l,u,!1,function(t){r("TlBV")},"data-v-98241296",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("personal")],1)},staticRenderFns:[]};var g=r("C7Lr")(v,d,!1,function(t){r("O+gZ")},"data-v-0338993c",null);e.default=g.exports}});
//# sourceMappingURL=9.a25d107bb2670cff359c.js.map